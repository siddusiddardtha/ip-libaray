// Dummy data for books and borrow history
const books = [
    "Harry Potter and the Sorcerer's Stone",
    "The Great Gatsby",
    "To Kill a Mockingbird",
    "1984 by George Orwell"
];

let loggedInUser = null;
let borrowHistory = [];

// Login function
function login() {
    const username = document.getElementById("username").value;
    const password = document.getElementById("password").value;

    if (username === "admin" && password === "admin123") {
        loggedInUser = "Admin";
        alert("Logged in as Admin!");
        document.getElementById("profileUsername").textContent = "Admin";
    } else if (username === "user" && password === "user123") {
        loggedInUser = "User";
        alert("Logged in as User!");
        document.getElementById("profileUsername").textContent = "User";
        displayBorrowHistory();
    } else {
        alert("Invalid login!");
    }
}

// Search book function
document.getElementById("searchBook").addEventListener("keyup", function() {
    const searchValue = this.value.toLowerCase();
    const filteredBooks = books.filter(book => book.toLowerCase().includes(searchValue));

    const bookList = document.getElementById("bookList");
    bookList.innerHTML = filteredBooks.length > 0
        ? filteredBooks.map(book => `<p>${book}</p>`).join("")
        : "<p>No books found.</p>";
});

// Display borrow history
function displayBorrowHistory() {
    if (loggedInUser === "User") {
        borrowHistory = [
            { title: "1984 by George Orwell", issueDate: "01-09-2024", expDate: "15-09-2024" }
        ];

        const borrowList = document.getElementById("borrowHistory");
        borrowList.innerHTML = borrowHistory.map(
            entry => `<li>${entry.title} (Issue: ${entry.issueDate}, Exp: ${entry.expDate})</li>`
        ).join("");
    }
}
